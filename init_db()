def init_db():
    os.makedirs(os.path.dirname(DB_PATH), exist_ok=True)
    conn = sqlite3.connect(DB_PATH)
    c = conn.cursor()
    # Видаляємо застарілу таблицю (якщо існує)
    c.execute("DROP TABLE IF EXISTS users")
    # Створюємо потрібну структуру заново
    c.execute('''
        CREATE TABLE users (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            name TEXT,
            role TEXT,
            login TEXT UNIQUE,
            password TEXT
        )
    ''')
    # Вставляємо користувачів
    users = [
        ("Аліна", "admin", "alina", "Alina2024adm"),
        ("Наталія", "admin", "natalia", "Natalia2024adm"),
        ("Геннадій", "operator", "gennadiy", "Gennadiy2024op"),
        ("Сергій", "operator", "sergiy", "Sergiy2024op"),
    ]
    for name, role, login, pwd in users:
        c.execute(
            "INSERT OR IGNORE INTO users (name, role, login, password) VALUES (?, ?, ?, ?)",
            (name, role, login, pwd)
        )
    conn.commit()
    conn.close()
